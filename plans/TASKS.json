{
  "project": "ralph-cli",
  "branchName": "ralph/release-v2.0.4",
  "description": "Minor release fixing non-interactive init, optimizing prompts with file references, and adding rich formatting to review loop",
  "userStories": [
    {
      "id": "US-001",
      "title": "Skip PRD prompt in non-interactive init mode",
      "description": "As a developer using Ralph CLI in automation, I want `ralph init --skip-claude` to complete without interactive prompts so that I can script the initialization process.",
      "acceptanceCriteria": [
        "Pass skip_claude flag to _handle_missing_prd function",
        "_handle_missing_prd skips the Confirm.ask prompt when skip_claude is True",
        "All files are still created correctly when --skip-claude is passed",
        "Running `ralph init --skip-claude` completes without waiting for user input",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": "Added skip_claude parameter to _handle_missing_prd function. When True, skips Confirm.ask prompt and continues without PRD."
    },
    {
      "id": "US-002",
      "title": "Use file references in skill prompt construction",
      "description": "As a developer using Ralph CLI, I want prompts to use @ file references instead of inline text to reduce token usage when invoking Claude.",
      "acceptanceCriteria": [
        "Modify build_skill_prompt to write skill content to a temporary file",
        "Use @filepath notation in the prompt string instead of inline content",
        "Ensure temporary files are placed in an appropriate location",
        "Document the preferred pattern for prompt construction in CLAUDE.md or AGENTS.md",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": "Updated build_skill_prompt to use direct file references to bundled SKILL.md files instead of temp files. Added get_path() method to SkillLoader. Documented pattern in both CLAUDE.md and AGENTS.md."
    },
    {
      "id": "US-003",
      "title": "Add rich formatting to review loop display",
      "description": "As a developer running ralph loop, I want the review loop to display progress counters and reviewer names with consistent Rich formatting so I can track review progress.",
      "acceptanceCriteria": [
        "Display 'Review X/Y' counter before each reviewer runs, matching ralph loop style",
        "Display current reviewer name being executed",
        "Use print_step or similar Rich formatting consistent with the loop command",
        "Review loop output visually matches the iteration loop style",
        "Typecheck passes"
      ],
      "priority": 3,
      "passes": true,
      "notes": "Added print_review_step() function to console.py that displays [Review X/Y] prefix with bold blue styling. Refactored _run_review_loop to iterate reviewers directly and display progress before each one."
    },
    {
      "id": "US-004",
      "title": "Bump version to 2.0.4",
      "description": "As a maintainer, I need the version bumped to 2.0.4 in preparation for release.",
      "acceptanceCriteria": [
        "Update version in pyproject.toml to 2.0.4",
        "Update __version__ in src/ralph/__init__.py to 2.0.4",
        "Add CHANGELOG.md entry for v2.0.4 with the three fixes",
        "Typecheck passes"
      ],
      "priority": 4,
      "passes": true,
      "notes": "Version already at 2.0.4. Updated CHANGELOG.md with the three fixes from US-001, US-002, US-003."
    }
  ]
}
