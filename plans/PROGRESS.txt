# Ralph Progress Log

## Codebase Patterns

(Add reusable patterns discovered during iterations here)

---

## Log

(Iteration entries will be appended below)

---

## 2026-01-22 - US-001

**Story:** Skip PRD prompt in non-interactive init mode

### What was implemented
- Added `skip_claude` parameter to `_handle_missing_prd` function in `src/ralph/commands/init_cmd.py`
- When `skip_claude=True`, the function skips the `Confirm.ask` prompt and prints a message instead
- Updated the call site in `init()` to pass `skip_claude=skip_claude` to `_handle_missing_prd`

### Tests written
- `test_init_skip_claude_skips_prd_prompt` - Integration test verifying --skip-claude completes without calling Confirm.ask and all files are created
- `test_handle_missing_prd_skips_prompt_when_skip_claude_true` - Unit test for the function with skip_claude=True
- `test_handle_missing_prd_prompts_when_skip_claude_false` - Unit test verifying prompt is shown when skip_claude=False
- `test_handle_missing_prd_prompts_by_default` - Unit test for backwards compatibility (prompts when parameter not specified)

### Files changed
- `src/ralph/commands/init_cmd.py` - Added skip_claude parameter and logic
- `tests/test_commands_integration.py` - Added 4 new tests

### Learnings for future iterations
- Using keyword-only arguments (with `*`) ensures the parameter must be passed explicitly, improving code clarity
- The existing test already mocked `Confirm.ask` which masked the blocking behavior; new test verifies the fix

---
