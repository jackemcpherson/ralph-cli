# Ralph Progress Log

## Codebase Patterns

- When calling Typer command functions directly (not through CLI), always pass all Option parameters explicitly since Typer's Option defaults are not applied when calling functions programmatically

---

## Log

(Iteration entries will be appended below)

---

## 2026-01-21 - US-001

**Story:** Fix PRD command invocation in init

### What was implemented
- Fixed the `prd_command` call in `_handle_missing_prd()` to explicitly pass `input_text=None` and `file=None`
- This ensures the mutual exclusivity check in the prd command works correctly when called programmatically

### Tests written
- No new tests written for this story (test coverage is addressed in US-002)
- Existing test suite (640 tests) continues to pass

### Files changed
- `src/ralph/commands/init_cmd.py` - Added explicit parameters to prd_command call

### Learnings for future iterations
- Typer Option defaults are only applied when functions are invoked through the CLI, not when called directly as Python functions
- When one Typer command calls another, all parameters with Option defaults must be explicitly passed to avoid unexpected behavior
- The error "Cannot use both --input and --file" occurred because the parameters were receiving Typer Option objects instead of None

---
