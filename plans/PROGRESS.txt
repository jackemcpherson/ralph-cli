# Ralph Progress Log

## Codebase Patterns

(Add reusable patterns discovered during iterations here)

---

## Log

(Iteration entries will be appended below)

---

## 2026-01-22 - US-001

**Story:** Update REVIEWER_TEMPLATE.md with new review scope pattern

### What was implemented
- Rewrote the Review Scope section in skills/REVIEWER_TEMPLATE.md
- Added primary scope: `git diff --name-only main...HEAD` for feature branch changes
- Added secondary scope: `git diff --name-only HEAD` for uncommitted changes
- Added fallback behavior when on main branch (use uncommitted changes only)
- Added "When to Use Each Scope" table documenting feature branch diff, uncommitted changes, and full repository scopes
- Updated HTML comments to reflect new scope pattern

### Tests written
- No code tests needed (documentation-only change)
- Template passes all quality checks (pyright, ruff lint, ruff format, pytest)

### Files changed
- skills/REVIEWER_TEMPLATE.md

### Learnings for future iterations
- The three-dot syntax `main...HEAD` shows all commits reachable from HEAD but not from main (feature branch work)
- The `git diff --name-only HEAD` shows uncommitted changes only
- Reviewers need both patterns to cover committed work on the branch plus work in progress

---

[Ralph Loop] 2026-01-22 02:57 UTC - Iteration 1: US-001 (Update REVIEWER_TEMPLATE.md with new review scope pattern) completed

---

## 2026-01-22 - US-002

**Story:** Standardize code-simplifier review scope to feature branch diff

### What was implemented
- Replaced the Review Scope section in skills/reviewers/code-simplifier/SKILL.md
- Added primary scope: `git diff --name-only main...HEAD` for feature branch changes
- Added secondary scope: `git diff --name-only HEAD` for uncommitted changes
- Added fallback behavior when on main branch (use uncommitted changes only)
- Added "When to Use Each Scope" table matching the REVIEWER_TEMPLATE.md pattern
- Removed the old "Future --full flag" note

### Tests written
- No code tests needed (documentation-only change)
- All quality checks pass (pyright, ruff lint, ruff format, pytest - 106 tests)

### Files changed
- skills/reviewers/code-simplifier/SKILL.md

### Learnings for future iterations
- Reviewer skills should follow the REVIEWER_TEMPLATE.md pattern for consistency
- All reviewers in this release need the same Review Scope update (US-003, US-004)

---

[Ralph Loop] 2026-01-22 02:59 UTC - Iteration 2: US-002 (Standardize code-simplifier review scope to feature branch diff) completed

---

## 2026-01-22 - US-003

**Story:** Standardize test-quality-reviewer review scope to feature branch diff

### What was implemented
- Replaced the Review Scope section in skills/reviewers/test-quality/SKILL.md
- Added primary scope: `git diff --name-only main...HEAD` for feature branch changes
- Added secondary scope: `git diff --name-only HEAD` for uncommitted changes
- Added fallback behavior when on main branch (use uncommitted changes only)
- Added "Filtering to Test Files" subsection with patterns: `test_*.py`, `*_test.py`, `*.spec.*`, `__tests__/`
- Added grep example for filtering test files from diff output
- Added "When to Use Each Scope" table matching the REVIEWER_TEMPLATE.md pattern
- Updated Phase 1: Gather section to use new git diff commands
- Removed the old "Future --full flag" note

### Tests written
- No code tests needed (documentation-only change)
- All quality checks pass (pyright, ruff lint, ruff format, pytest - 106 tests)

### Files changed
- skills/reviewers/test-quality/SKILL.md

### Learnings for future iterations
- Test-quality-reviewer needed an additional "Filtering to Test Files" subsection specific to its scope
- The grep pattern for test files should include `__tests__/` for Jest-style directory matching

---

[Ralph Loop] 2026-01-22 03:02 UTC - Iteration 3: US-003 (Standardize test-quality-reviewer review scope to feature branch diff) completed

[Ralph Loop] 2026-01-22 03:01 UTC - Iteration 3: US-003 (Standardize test-quality-reviewer review scope to feature branch diff) completed

---

## 2026-01-22 - US-004

**Story:** Standardize python-code-reviewer review scope to feature branch diff

### What was implemented
- Replaced the Review Scope section in skills/reviewers/language/python/SKILL.md
- Added primary scope: `git diff --name-only main...HEAD -- '*.py'` for feature branch changes
- Added secondary scope: `git diff --name-only HEAD -- '*.py'` for uncommitted changes
- Added fallback behavior when on main branch (use uncommitted changes only)
- Added "When to Use Each Scope" table matching the REVIEWER_TEMPLATE.md pattern
- Updated Phase 1: Gather section to use new git diff commands
- Removed the old "Future --full flag" note

### Tests written
- No code tests needed (documentation-only change)
- All quality checks pass (pyright, ruff lint, ruff format, pytest - 106 tests)

### Files changed
- skills/reviewers/language/python/SKILL.md

### Learnings for future iterations
- Python-code-reviewer uses `-- '*.py'` filter in git diff commands to scope to Python files only
- The pattern matches REVIEWER_TEMPLATE.md but with Python-specific file filtering

---
